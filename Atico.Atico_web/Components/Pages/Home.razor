@page "/"
@inject IJSRuntime JSRuntime
@using Microsoft.AspNetCore.Components
@using Atico.Atico_web.Components.Controls.Home_views_Controls

<PageTitle>ATICO</PageTitle>
<div class="Div_Bg_1  ">
  <section id="Home_Enter" class="p-0"   >
    <div id="Hero_Container" class="Hero_Container animation-out sticky-Hero_wrap ">
      <div class="sticky-Hero mx-auto">
          <div class=" h1-Container align-items-start justify-content-start flex-column ">
            <h1 class=" Hero_h1 text-nowrap ">KNOW ..</h1>
            <h1 class=" Hero_h1 text-nowrap">WHAT WE WORK</h1>
            <h1 class=" Hero_h1  text-nowrap">HOW WE WORK</h1>
            <a class=" clickible title Hero_Link text-nowrap" href="/About_Us">..TO GET MORE WITH ATICO</a>
          </div>
          
      </div>
      <div class="Container row d-flex"> 
        <div class="col-2 h-75  px-4 align-self-start up">
          <img src="Hero.Img_0001.jpg" class="Hero_Img_sm" >  
        </div>
        <div class="col-2 h-75  px-4 align-self-end  up">
          <img src="Hero.Img_0002.jpg" class="Hero_Img_sm" >  
        </div>
        <div class="col-4 h-100  sticky_col sticky-About mx-auto">
          
        </div>
        
        <div class="col-2 h-75 px-4 align-self-end up">
          <img src="Hero.Img_0003.jpg" class="Hero_Img_sm" >  
        </div>
        <div class="col-2 h-75 px-4 align-self-start up">
          <img src="Hero.Img_0004.jpg" class="Hero_Img_sm" >  
        </div>



      </div>
      
    </div>
    <div class ="TempSpace_div d-flex ">
      <div class="Comp_logo_div ">
        <img src="Atico_Logo_Wide.jpg" />
      </div>
      <div class="header_text">
        <div class="header_text-wrap">
          <div class="header_text-move" style="transform: translate(0px, 0%);">
            <h1>The Leading</h1>
          </div>
        </div>
        <div class="header_text-wrap">
          <div class="header_text-move" style="transform: translate(0px, 0%);">
            <h1 class="is--alt-text">Company in Yemen</h1>
          </div>
        </div>
      </div>
    
    </div>
    <div class="sticky-circle_wrap ">
      <div class="sticky-circle">
        <div class="sticky-circle_element" style="border-radius: 33.2354em; height: 79.8351vh; width: 38.2772vw;">
          <img src="cirecal_img.png" loading="lazy" alt="" sizes="100vw" srcset="cirecal_img.png 500w, cirecal_img.png 800w, cirecal_img.png 1080w" class="sticky-circle_img">
        </div>
      </div>
    </div>
    
  </section>
</div>


<section id="About" class="About p-0 py-5">
  <div class=" about_text_box container-fluid justify-content-center align-items-center text-center mt-4">
    <div class="about_box about_box_Atico  p-1  animation-in">
        <span class="">
            <h2 class=" Check_InSection  animation-in" >ATICO </h2>
            <p class=" Check_InSection  animation-in ">
                Trading & Industry Co. Ltd. is a pioneer in importing of Petroleum Derivatives, and foreign companies Agencies. The company imports & manufactures its own brand of Oils & Lubricants for all types of Vehicle & equipments. It also provides all type of Safety equipments to the market. 
                The company was founded in 2012. The company is based in Sana’a with branches in most of the governorates of Yemen. It’s considered to be one of the most reputed companies in providing services to oil & gas industries, Governmental & private sectors and humanitarian organizations in the Republic of Yemen.
            </p>
        </span>
        <a href="/About_Us" class="clickible title Check_InSection  animation-in"> READ MORE </a>
       
      </div>
  </div>
  <div class="sticky-About_wrap">
    <div class="sticky-About row w-100">
      <div class="sticky-About_element col-10" >
        <img id="dynamicImage"  src="Companies\\Atico.jpg" loading="lazy" alt="" sizes="100vw" class="sticky-About_img clickible">
      </div>
      <div class="col-2 flex-column">
        @foreach(var com in _Companies){
            <h1 class="clickible title" data-name="@com.Title" data-img-path ="@com.Img_Path">@com.Title</h1>
        }
      </div>
    </div>
  </div>
</section>

<section id ="Our_Services" class=" container-fluid justify-content-center align-items-center text-center py-4 px-2 mt-5 mb-5">
  
  <div class=" service_box container d-inline-flex py-4 px-2 pr-n5 justify-content-center align-items-center text-center mt-4 Check_InSection  " style="height: 200PX;">
    <div class="  services_text_box P-2 text-wrap " >
      <div>
        <h4 class="text-danger mt-5 Check_InSection  ">Why Choose Our Services?</h4>
        <p class="mb-5 Check_InSection  ">Reliable, Effective &Technically Advanced Products! </p>
      </div>
      <div>
        <p class="mt-4 Check_InSection   ">Find the ATICO ™ solution and Services that's right for you </p>
        <a class=" clickible title text-decoration-underline Check_InSection " href="/Services">
          Find More
        </a>
      </div>
      
      
    </div>
    <div class="X Check_InSection animation-in clickible">
      <Services_Box ></Services_Box>
    </div> 
    
    <!--
    <div class=" my-1 Out_From_Right justify-content-between align-items-center text-start ">
      <div class=" background-item">
        <img src="img2.png" alt="Gas Station" />
      </div>
      <div class=" align-start button-item d-flex">
        <a>
          <img src="btn_left_icon.png" alt="left">
        </a>
      </div>

      <div class=" text-item ">
        <h3>Equipping Gas Stations</h3>
        <p>Reliable solutions for fueling station management and operations.</p>
      </div>
      <div class=" align-end button-item d-flex">
        <a>
          <img src="btn_right_icon.png" alt="right">
        </a>
      </div>
        
    </div>
    -->
  </div>
  

</section>

<!-- Products Section -->
<SliderSection></SliderSection>

<section id ="Our_Partners" class=" container-fluid justify-content-center align-items-center text-center py-6 px-2 mt-5 mb-5 ">
  <div class="Partners_Container">
    <div class=" container-fluid justify-content-center align-items-center text-center mt-4 ">
      <h2 class="Section_title">Our partners</h2>
    </div>
    <div class="Partners-Box container row w-100 py-5 px-3 justify-content-evenly align-items-center  " style="justify-self: center !important;" >
      <Partiners_Boxes></Partiners_Boxes>
    </div>
  </div>
  

</section>

<section id ="News_Section" class=" container-fluid justify-content-center align-items-center text-center py-5 px-2">
  <div class="News_Container">
    <div class=" container-fluid justify-content-center align-items-center text-center mt-4">
      <h2 class="Section_title">Latest News</h2>
    </div>
    <News_Boxes ></News_Boxes>
  </div>
  <a class="More" href="/News"> READ MORE </a>
</section>



  <!-- 
  <Product_Carouls></Product_Carouls>

  Products Section
  -->

    <!-- For Check_InSection Observer-->
    <!-- For Check_InSection Observer
    <script >
    // تحديد جميع العناصر التي تحتوي على الكلاس 'Check_InSection'
        const sections = document.querySelectorAll('.Check_InSection');

        // إعداد Intersection Observer
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
            const target = entry.target;
            if (entry.isIntersecting) {
                if(entry.intersectionRatio >= 0.5)
                target.classList.add('visible'); // للظهور عند التمرير للأسفل
                else if(entry.intersectionRatio <=1)
                target.classList.remove('visible');
                if(target.classList.contains('X'))
                target.classList.add('visible'); // للظهور عند التمرير للأسفل
                
            } 
            else {
                if(entry.intersectionRatio <=0)
                target.classList.remove('visible'); // إخفاء العنصر
            }
            });
        }, {
            threshold: 0.5 // متى يبدأ العنصر بالظهور أو الاختفاء (30% من حجمه)
        });
        

        // تطبيق المراقبة على كل قسم
        sections.forEach(section => {
            observer.observe(section);
        });
        

    </script>
    -->
    <script>
            document.addEventListener("DOMContentLoaded", () => {
        const stickyWrap = document.querySelector(".sticky-About_wrap");
        const headings = stickyWrap.querySelectorAll(".sticky-About h1");
        const dynamicImage = document.getElementById("dynamicImage"); // عنصر الصورة الديناميكية

        // إجمالي ارتفاع القسم
        const wrapHeight = stickyWrap.offsetHeight;
        // عدد العناوين
        const headingsCount = headings.length;

        window.addEventListener("scroll", () => {
            // موضع التمرير العمودي بالنسبة إلى العنصر
            const wrapTop = stickyWrap.getBoundingClientRect().top;
            const wrapBottom = stickyWrap.getBoundingClientRect().bottom;

            // تحقق إذا كان التمرير داخل العنصر
            if (wrapTop <= window.innerHeight && wrapBottom >= 0) {
            // حساب نسبة التمرير داخل العنصر
            const progress = Math.min(Math.max((window.innerHeight - (wrapTop+150)) / wrapHeight, 0), 1);

            // حساب العنصر الذي يجب أن يكون مميزًا
            const focusedIndex = Math.floor(progress * (headingsCount));
            $('sticky-About_img').add()
            // إزالة الكلاس "Foucsed" من جميع العناوين
            headings.forEach((heading, index) => {
                if (index === focusedIndex) {
                heading.classList.add("Foucsed");
                const imgPath = heading.getAttribute("data-img-path");
                dynamicImage.setAttribute("src", imgPath);
                } else {
                heading.classList.remove("Foucsed");
                }
            });
            }
        });
        });
    </script>

 
@code {
     public List<Company> _Companies {get; set;} = new();
    protected override  void OnParametersSet(){
        _Companies = new(){
          new(1,"ATICO","Companies\\Atico.jpg"),
          new(2,"ATICO POWER","Companies\\Atico_Power.jpg"),
          new(3,"ATICO PHARMA","Companies\\Atico_Pharma.jpg"),
          new(4,"ATICO FOOD","Companies\\Atico_Food.jpg"),
          new(5,"ATICO AGRICULTURE","Companies\\Atico_Agriculture.jpg")
        };

    }
   
}
